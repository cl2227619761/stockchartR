!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("d3")):"function"==typeof define&&define.amd?define(["React","d3"],t):"object"==typeof exports?exports.ReStock=t(require("React"),require("d3")):e.ReStock=t(e.React,e.d3)}(this,function(e,t){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="js/",t(0)}([function(e,t,r){"use strict";t.ChartCanvas=r(1),t.DataTransform=r(11),t.XAxis=r(23),t.YAxis=r(24),t.Chart=r(25),t.DataSeries=r(26),t.AreaSeries=r(27),t.LineSeries=r(28),t.CompareSeries=r(29),t.CandlestickSeries=r(30),t.OverlaySeries=r(31),t.HistogramSeries=r(32),t.KagiSeries=r(33),t.PointAndFigureSeries=r(34),t.RenkoSeries=r(35),t.MACDSeries=r(36),t.EventCapture=r(37),t.MouseCoordinates=r(38),t.CrossHair=r(39),t.VerticalMousePointer=r(41),t.CurrentCoordinate=r(42),t.EdgeContainer=r(43),t.EdgeIndicator=r(44),t.helper={},t.helper.ChartWidthMixin=r(45),t.indicator={MACD:r(46)},t.tooltip={MACDTooltip:r(47),TooltipContainer:r(48),OHLCTooltip:r(49),CompareTooltip:r(50),MovingAverageTooltip:r(51)},t.TooltipContainer=r(48),t.OHLCTooltip=r(49),t.CompareTooltip=r(50),t.MovingAverageTooltip=r(51)},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(3),p=o(l),f=r(9),d=(o(f),r(7)),h=o(d),y=r(10),v=o(y),m=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.recordInitialState=this.recordInitialState.bind(this)}return a(t,e),i(t,[{key:"getAvailableHeight",value:function(e){return e.height-e.margin.top-e.margin.bottom}},{key:"getAvailableWidth",value:function(e){return e.width-e.margin.left-e.margin.right}},{key:"getChildContext",value:function(){return{width:this.getAvailableWidth(this.props),height:this.getAvailableHeight(this.props),data:this.state.data,interval:this.props.interval,initialDisplay:this.props.initialDisplay||this.state.plotData.length,initialStartIndex:this.props.initialStartIndex||0,plotData:this.state.plotData,chartData:this.state.chartData,recordInitialState:this.recordInitialState}}},{key:"updateState",value:function(e,t){var r={};r[this.props.interval]=e.data;var o={data:r,plotData:e.data};if(p["default"].containsChart(e)){var n={width:this.getAvailableWidth(e),height:this.getAvailableHeight(e)},a=e.data,i=p["default"].getChartData(e,t,a,r,n);o.chartData=i,o.plotData=a}this.setState(o)}},{key:"componentWillMount",value:function(){this.updateState(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.updateState(e)}},{key:"getCanvas",value:function(){return this.refs.canvas.getCanvas()}},{key:"recordInitialState",value:function(e){this.setState({initial:e})}},{key:"render",value:function(){var e=this,t=this.getAvailableWidth(this.props),r=this.getAvailableHeight(this.props),o=c["default"].Children.map(this.props.children,function(t){var r=h["default"].isReactVersion13()?c["default"].withContext(e.getChildContext(),function(){return c["default"].createElement(t.type,v["default"]({key:t.key,ref:t.ref},t.props))}):c["default"].cloneElement(t);return r});return c["default"].createElement("div",{style:{position:"relative"}},c["default"].createElement("svg",{width:this.props.width,height:this.props.height},c["default"].createElement("defs",null,c["default"].createElement("clipPath",{id:"chart-area-clip"},c["default"].createElement("rect",{x:"0",y:"0",width:t,height:r}))),c["default"].createElement("g",{transform:"translate("+this.props.margin.left+", "+this.props.margin.top+")"},o)))}}]),t}(c["default"].Component);m.propTypes={width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired,margin:c["default"].PropTypes.object,interval:c["default"].PropTypes.oneOf(["D"]).isRequired,data:c["default"].PropTypes.array.isRequired,initialDisplay:c["default"].PropTypes.number},m.childContextTypes={width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired,data:c["default"].PropTypes.object.isRequired,interval:c["default"].PropTypes.string.isRequired,initialDisplay:c["default"].PropTypes.number.isRequired,initialStartIndex:c["default"].PropTypes.number.isRequired,plotData:c["default"].PropTypes.array,chartData:c["default"].PropTypes.array,recordInitialState:c["default"].PropTypes.func.isRequired},m.defaultProps={margin:{top:20,right:30,bottom:30,left:80},interval:"D"},e.exports=m},function(t,r){t.exports=e},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(2),a=o(n),i=r(4),s=o(i),u=r(5),c=o(u),l=r(6),p=o(l),f=r(7),d=o(f),h=d["default"].overlayColors,y=d["default"].pluck,v=d["default"].keysAsArray,m={containsChart:function(e){return this.getCharts(e).length>0},getCharts:function(e){return this.getChildren(e.children,/Chart$/)},getChartDataForChart:function(e,t){var r=t.chartData.filter(function(t){return t.id===e.forChart})[0];return r},getCurrentItemForChart:function(e,t){var r=t.currentItems.filter(function(t){return t.id===e.forChart})[0],o=r?r.data:{};return o},getChartData:function(e,t,r,o,n){var a=this,i=this.getCharts(e),s=this.getInnerDimensions(n,t);return i.map(function(e){var t=e.props,i=a.getChartConfigFor(s,t,r,o,n),u=a.getChartPlotFor(i,r);return{id:e.props.id,config:i,plot:u}})},getChildren:function(e,t){var r=[];return a["default"].Children.forEach(e,function(e){t.test(e.props.namespace)&&r.push(e)}),r},getMainChart:function(e){var t=this.getChildren(e,/EventCapture$/);if(t.length>1)throw new Error("only one EventCapture allowed");return t.length>0?t[0].props.mainChart:0===t.length?this.getChildren(e,/Chart$/)[0].props.id:void 0},getClosestItem:function(e,t,r){var o=r.plot.scales.xScale.invert(t[0]),n=d["default"].getClosestItem(e,o,r.config.accessors.xAccessor);return n},getInnerDimensions:function(e,t){return void 0===e&&(e={}),{width:e.width||t.width,height:e.height||t.height}},getDimensions:function(e,t,r){var o=e.width,n=e.height,a=t.width||o,i=t.height||n;return{availableWidth:o,availableHeight:n,width:a,height:i}},getChartConfigFor:function(e,t,r,o,n){var a=this.getPaddingForChart(t),i=this.getDimensions(e,t),s=this.getIndicator(t,n);this.calculateIndicator(o,s,t);var u=this.getXYAccessors(t,n,s),c=this.identifyOverlaysToAdd(t),l=this.identifyCompareBase(t),p=this.identifyCompareSeries(t);this.calculateOverlays(o,c);var f="function"==typeof t.origin?t.origin(i.availableWidth,i.availableHeight):t.origin,d=this.defineScales(t,r,n),h={width:i.width,height:i.height,mouseCoordinates:{at:t.yMousePointerDisplayLocation,format:t.yMousePointerDisplayFormat},indicatorOptions:s&&s.options(),origin:f,padding:a,accessors:u,overlays:c,compareBase:l,compareSeries:p,scaleType:d};return h},getChartPlotFor:function(e,t,r,o){var n,a=y(v(e.overlays),"yAccessor");e.compareSeries.length>0?(this.updateComparisonData(t,e.compareBase,e.compareSeries),n=[function(e){return e.compare}]):n=[e.accessors.yAccessor].concat(a);var i=c["default"].flattenData(t,[e.accessors.xAccessor],n),s=this.updateOverlayFirstLast(t,e.overlays),u=this.updateScales(i,e.scaleType,t,e.width,e.height,e.padding);r&&o&&u.xScale.domain([r,o]);var l=t[t.length-1],p=t[0],f=u.xScale(e.accessors.xAccessor(t[t.length-1]))-u.xScale(e.accessors.xAccessor(t[0])),d={drawableWidth:f,overlayValues:s,scales:u,lastItem:l,firstItem:p};return d},getCompareYAccessors:function(e){var t=e.map(function(e){return function(t){return t["compare_"+e.id+"_percent"]}});return t.push(function(e){return e.compare_base_percent}),t},updateComparisonData:function(e,t,r){var o=e[0],n=t(o);e.forEach(function(e){e.compare={},e.compare.open=(e.open-n)/n,e.compare.high=(e.high-n)/n,e.compare.low=(e.low-n)/n,e.compare.close=(e.close-n)/n,r.forEach(function(t){var r="compare_"+t.id;e.compare[r]=(t.yAccessor(e)-t.yAccessor(o))/t.yAccessor(o)})})},defineScales:function(e,t,r){var o=e.xScale,n=e.yScale;if(void 0===o&&r&&(o=r.xScale),void 0===o){var a=t[0];"object"==typeof a&&Object.keys(a).forEach(function(e){"[object Date]"===Object.prototype.toString.call(a[e])&&(o=s["default"].time.scale())}),void 0===o&&(o=s["default"].scale.linear())}return void 0===n&&(n=s["default"].scale.linear()),{xScale:o,yScale:n}},getPaddingForChart:function(e){return e.padding},getIndicator:function(e){var t;return a["default"].Children.forEach(e.children,function(r){if(["ReStock.DataSeries"].indexOf(r.props.namespace)>-1&&r.props&&r.props.indicator){var o=r.props.indicator;t=o(r.props.options,e)}}),t},getXYAccessors:function(e,t,r){var o={xAccessor:null,yAccessor:null};return a["default"].Children.forEach(e.children,function(e){if(["ReStock.DataSeries"].indexOf(e.props.namespace)>-1&&e.props){var r=void 0!==t&&t.stockScale?t.xAccessor:e.props.xAccessor;o.xAccessor=r,o.yAccessor=e.props.yAccessor}}),!o.yAccessor&&r&&(o.yAccessor=r.yAccessor()),o},identifyOverlaysToAdd:function(e){var t=[];return a["default"].Children.forEach(e.children,function(r){/DataSeries$/.test(r.props.namespace)&&a["default"].Children.forEach(r.props.children,function(r){if(/OverlaySeries$/.test(r.props.namespace)){var o=p["default"].getYAccessorKey(e.id,r.props),n={id:r.props.id,chartId:e.id,key:o,yAccessor:function(e){return e[o]},options:r.props.options,type:r.props.type,tooltipLabel:p["default"].getToolTipLabel(r.props),stroke:r.props.stroke||h(r.props.id)};t.push(n)}})}),t},identifyCompareBase:function(e){var t;return a["default"].Children.forEach(e.children,function(e){/DataSeries$/.test(e.props.namespace)&&(t=e.props.compareBase)}),t},identifyCompareSeries:function(e){var t=[];return a["default"].Children.forEach(e.children,function(e){/DataSeries$/.test(e.props.namespace)&&a["default"].Children.forEach(e.props.children,function(e){/CompareSeries$/.test(e.props.namespace)&&t.push({yAccessor:e.props.yAccessor,id:e.props.id,stroke:e.props.stroke||h(e.props.id),displayLabel:e.props.displayLabel,percentYAccessor:function(t){return t.compare["compare_"+e.props.id]}})})}),t},calculateOverlays:function(e,t){Array.isArray(e)?t.filter(function(e){return void 0!==e.id}).forEach(function(t){p["default"].calculateOverlay(e,t)}):Object.keys(e).filter(function(e){return["D","W","M"].indexOf(e)>-1}).forEach(function(r){t.filter(function(e){return void 0!==e.id}).forEach(function(t){p["default"].calculateOverlay(e[r],t)})})},calculateIndicator:function(e,t){Object.keys(e).filter(function(e){return["D","W","M"].indexOf(e)>-1}).forEach(function(r){t&&t.calculate(e[r])})},updateOverlayFirstLast:function(e,t){var r=[];return t.forEach(function(t){r.push({id:t.id,first:p["default"].firstDefined(e,t.yAccessor),last:p["default"].lastDefined(e,t.yAccessor)})}),r},updateScales:function(e,t,r,o,n,a){t.xScale.range([a.left,o-a.right]),t.xScale.isPolyLinear&&t.xScale.isPolyLinear()?t.xScale.data(r):t.xScale.domain(s["default"].extent(e.xValues)),t.yScale.range([n-a.top,a.bottom]);var i=s["default"].extent(e.yValues);return t.yScale.domain(i),{xScale:t.xScale.copy(),yScale:t.yScale.copy()}},getCurrentItems:function(e,t,r){return e.map(function(e){var o=e.plot.scales.xScale.invert(t[0]),n=d["default"].getClosestItem(r,o,e.config.accessors.xAccessor);return{id:e.id,data:n}})},getDataToPlotForDomain:function(e,t,r,o,n){for(var a,i,s,u,c,l,p,f=.5,h=["D","W","M"],y=0;y<h.length&&(s=h[y],a=r[s],u=d["default"].getClosestItemIndexes(a,e,n),c=d["default"].getClosestItemIndexes(a,t,n),l=u.right,p=c.right,i=a.slice(l,p),!(i.length<o*f));y++);return{interval:s,data:i,leftIndex:l,rightIndex:p}}};e.exports=m},function(e,r){e.exports=t},function(e,t){"use strict";function r(e,t){"object"==typeof t&&Object.keys(t).length>0?Object.keys(t).forEach(function(r){isNaN(t[r])||e.push(t[r])}):isNaN(t)||e.push(t)}var o={flattenData:function(e,t,o){var n=[],a=[];return e.forEach(function(e){t.forEach(function(t){var o=t(e);void 0!==o&&r(n,o)}),o.forEach(function(t){var o=t(e);void 0!==o&&r(a,o)})}),{xValues:n,yValues:a}}};e.exports=o},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(7),a=o(n),i=r(8),s=o(i),u={getToolTipLabel:function(e){if("sma"===e.type||"ema"===e.type){var t=e.type.toUpperCase()+"("+e.options.period+")";return t}return"N/A"},getYAccessorKey:function(e,t){if("sma"===t.type||"ema"===t.type){var r=t.type+t.options.period+"_chart_"+e;return r}return!1},calculateOverlay:function(e,t){return"sma"===t.type?e=s["default"].calculateSMA(e,t.options.period,t.key,t.options.pluck||"close"):"ema"===t.type&&(e=s["default"].calculateEMA(e,t.options.period,t.key,t.options.pluck||"close")),e},firstDefined:function(e,t){for(var r,o=0;o<e.length;o++)if(void 0!==t(e[o])){r=e[o];break}return a["default"].cloneMe(r)},lastDefined:function(e,t){for(var r,o=e.length-1;o>=0;o--)if(void 0!==t(e[o])){r=e[o];break}return a["default"].cloneMe(r)}};e.exports=u},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(2),a=o(n),i=r(4),s=o(i),u=s["default"].scale.category10(),c={overlayColors:u,isReactVersion13:function(){var e=a["default"].version.split(".")[1];return"13"===e},isReactVersion14:function(){return"14"===a["default"].version.split(".")[1]},cloneMe:function(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=this.cloneMe(e[r]));return t},displayDateFormat:s["default"].time.format("%Y-%m-%d"),displayNumberFormat:function(e){return c.numberWithCommas(e.toFixed(2))},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},mergeObject:function(e,t){var r={};return Object.keys(e).forEach(function(t){null!=e[t]&&(r[t]=e[t])}),Object.keys(t).forEach(function(e){null!=t[e]&&(r[e]=t[e])}),r},mergeRecursive:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){for(var r in t)try{t[r].constructor==Object?e[r]=mergeRecursive(e[r],t[r]):e[r]=t[r]}catch(o){e[r]=t[r]}return e}),mousePosition:function(e){var t=e.currentTarget,r=t.getBoundingClientRect(),o=e.clientX-r.left-t.clientLeft,n=e.clientY-r.top-t.clientTop,a=[Math.round(o),Math.round(n)];return a},getValue:function(e){return e instanceof Date?e.getTime():e},getClosestItem:function(e,t,r){for(var o=0,n=e.length-1;n-o>1;){var a=Math.round((o+n)/2);r(e[a])<=t?o=a:n=a}r(e[o])===t&&(n=o);var i=Math.abs(r(e[o])-t)<Math.abs(r(e[n])-t)?e[o]:e[n];return c.cloneMe(i)},getClosestItemIndex:function(e,t,r){for(var o=0,n=e.length-1;n-o>1;){var a=Math.round((o+n)/2);r(e[a])<=t?o=a:n=a}r(e[o])===t&&(n=o);var i=Math.abs(r(e[o])-t)<Math.abs(r(e[n])-t)?o:n;return i},getClosestItemIndexes:function(e,t,r){for(var o=0,n=e.length-1;n-o>1;){var a=Math.round((o+n)/2);r(e[a])<=t?o=a:n=a}return r(e[o])===t&&(n=o),{left:o,right:n}},pluck:function(e,t){return e.map(function(e){return c.getter(e,t)})},keysAsArray:function(e){return Object.keys(e).filter(function(t){return null!==e[t]}).map(function(t){return e[t]})},sum:function(e){return e.reduce(function(e,t){return e+t})},setter:function(e,t,r,o){t?(void 0===e[t]&&(e[t]={}),e[t][r]=o):e[r]=o},getter:function(e,t){var r,o=t.split(".");return o.forEach(function(t){r=r?r[t]:e[t]}),r}};e.exports=c},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(7),a=o(n),i=a["default"].pluck,s=a["default"].sum,u={calculateSMA:function(e,t,r,o,n){var u=e.length-1;return e.map(function(r,o){return e.slice(o-t,o)}).filter(function(e){return e.length===t&&e.length>0}).map(function(e){return i(e,o)}).map(function(e){return s(e)}).map(function(e){return e/t}).reverse().forEach(function(t,o){a["default"].setter(e[u-o],n,r,t)}),e},calculateEMA:function(e,t,r,o,n){if(e.length>t){var i=e.slice(0,t).map(function(e){return a["default"].getter(e,o)}).reduce(function(e,t){return e+t})/t;a["default"].setter(e[t],n,r,i);for(var s,u=2/(t+1),c=i,l=t;l<e.length;l++)s=a["default"].getter(e[l],o)*u+c*(1-u),a["default"].setter(e[l],n,r,s),c=s}return e}};e.exports=u},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("canvas",{ref:"canvas",width:this.props.width,height:this.props.height,style:{position:"absolute",left:this.props.left,top:this.props.top}})}}]),t}(c["default"].Component);l.contextTypes={width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired,left:c["default"].PropTypes.number.isRequired,top:c["default"].PropTypes.number.isRequired},e.exports=l},function(e,t){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return n.call(e,t)})}var n=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var n,a,i=r(e),s=1;s<arguments.length;s++){n=arguments[s],a=o(Object(n));for(var u=0;u<a.length;u++)i[a[u]]=n[a[u]]}return i}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(3),p=o(l),f=r(12),d=o(f),h=r(14),y=o(h),v=r(22),m=o(v),g=r(7),b=o(g),O=r(10),x=o(O),P=r(13),T=o(P),w=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"transformData",value:function(e,t){var r=y["default"].getTransformerFor(e.transformType);if(t.dataTransformOptions||e.options)var o=x["default"](t.dataTransformOptions,e.options);var n=r(t.data,t.interval,o,t.dataTransformProps);return n}},{key:"componentWillMount",value:function(){var e=this.props,t=this.context,r=this.transformData(e,t);this.setState({data:r.data,dataTransformOptions:r.options,dataTransformProps:r.other})}},{key:"componentWillReceiveProps",value:function(e,t){if(!T["default"](this.props,e)||!T["default"](this.context,t)){console.log("DataTransform.componentWillReceiveProps");var r=this.transformData(e,t);this.setState({data:r.data,dataTransformOptions:r.options,dataTransformProps:r.other})}}},{key:"getChildContext",value:function(){return{data:this.state.data,dataTransformOptions:this.state.dataTransformOptions,dataTransformProps:this.state.dataTransformProps}}},{key:"render",value:function(){var e=this,t=c["default"].Children.map(this.props.children,function(t){var r=b["default"].isReactVersion13()?c["default"].withContext(e.getChildContext(),function(){return c["default"].createElement(t.type,x["default"]({key:t.key,ref:t.ref},t.props))}):c["default"].cloneElement(t);return r});return p["default"].containsChart(this.props)?c["default"].createElement(m["default"],null,t):c["default"].createElement("g",null,t)}}]),t}(d["default"]);w.propTypes={transformType:c["default"].PropTypes.string.isRequired,options:c["default"].PropTypes.object},w.contextTypes={data:c["default"].PropTypes.object.isRequired,dataTransformOptions:c["default"].PropTypes.object,dataTransformProps:c["default"].PropTypes.object,interval:c["default"].PropTypes.string.isRequired},w.childContextTypes={data:c["default"].PropTypes.object,dataTransformOptions:c["default"].PropTypes.object,dataTransformProps:c["default"].PropTypes.object},w.defaultProps={namespace:"ReStock.DataTransform",transformType:"none"},e.exports=w},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(13),p=o(l),f=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e,t,r){return!p["default"](this.props,e)||!p["default"](this.state,t)||!p["default"](this.context,r)}}]),t}(c["default"].Component);e.exports=f},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r;for(r in e)if(e.hasOwnProperty(r)&&(!t.hasOwnProperty(r)||e[r]!==t[r]))return!1;for(r in t)if(t.hasOwnProperty(r)&&!e.hasOwnProperty(r))return!1;return!0}e.exports=r},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(15),a=o(n),i=r(17),s=o(i),u=r(18),c=o(u),l=r(20),p=o(l),f=r(21),d=o(f),h={getTransformerFor:function(e){return"none"===e?function(e){return e}:"stockscale"===e?a["default"]:"heikinashi"===e?s["default"]:"kagi"===e?c["default"]:"pointandfigure"===e?p["default"]:"renko"===e?d["default"]:!1},filter:function(e,t,r,o){var n=e.filter(function(e){var n=t(e).getTime()>r.getTime()&&t(e).getTime()<o.getTime();return n});return n}};e.exports=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r,o){for(var n,a=[],i={},s=0;s<e.length;s++){var u=e[s];r(i)&&t(i,s),o(i,r(u)),i.startOfWeek=i.startOfWeek||u.startOfWeek,i.startOfMonth=i.startOfMonth||u.startOfMonth,i.startOfQuarter=i.startOfQuarter||u.startOfQuarter,i.startOfYear=i.startOfYear||u.startOfYear,i.open||(i.open=u.open),i.high||(i.high=u.high),i.low||(i.low=u.low),i.close=u.close,i.high=Math.max(i.high,u.high),i.low=Math.min(i.low,u.low),i.volume||(i.volume=0),i.volume+=u.volume;for(var c in u)i.hasOwnProperty(c)||(i[c]=u[c]);u.startOfWeek&&(n&&(i.trueRange=Math.max(i.high-i.low,i.high-n.close,i.low-n.close)),n=i,a.push(i),i={})}return a}function a(e,t,r){for(var o,n=[],a={},i=0;i<e.length;i++){var s=e[i];a.date||t(a,i),a.date=r(s),a.startOfMonth=a.startOfMonth||s.startOfMonth,a.startOfQuarter=a.startOfQuarter||s.startOfQuarter,a.startOfYear=a.startOfYear||s.startOfYear,a.open||(a.open=s.open),a.high||(a.high=s.high),a.low||(a.low=s.low),a.close=s.close,a.high=Math.max(a.high,s.high),a.low=Math.min(a.low,s.low),a.volume||(a.volume=0),a.volume+=s.volume;for(var u in s)a.hasOwnProperty(u)||(a[u]=s[u]);s.startOfMonth&&(a.startOfWeek=s.startOfWeek,o&&(a.trueRange=Math.max(a.high-a.low,a.high-o.close,a.low-o.close)),o=a,n.push(a),a={})}return n}function i(e,t,r){var o={};Object.keys(c).forEach(function(e){return o[e]=c[e]}),r&&Object.keys(r).forEach(function(e){return o[e]=r[e]});var i,s=o.dateAccessor,l=o.dateMutator,p=o.indexMutator,f={},d=e[t];return f.D=d.map(function(e,t){var r={};Object.keys(e).forEach(function(t){r[t]=e[t]}),p(r,t),r.startOfWeek=!1,r.startOfMonth=!1,r.startOfQuarter=!1,r.startOfYear=!1;var o=s(r);return void 0!==i&&(r.startOfWeek=o.getDay()<i.getDay(),r.startOfMonth=o.getMonth()!==i.getMonth(),r.startOfQuarter=r.startOfMonth&&o.getMonth()%3===0,r.startOfYear=o.getYear()!==i.getYear()),i=o,r}),f.W=n(f.D,p,s,l),f.M=a(f.D,p,s,l),{data:f,other:{xScale:u["default"](o.indexAccessor),xAccessor:o.indexAccessor,stockScale:!0},options:o}}var s=r(16),u=o(s),c={dateAccessor:function(e){return e.date},indexAccessor:function(e){return e.idx},dateMutator:function(e,t){e.date=t},indexMutator:function(e,t){e.idx=t}};e.exports=i},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){function o(e){for(var t=0,r=l[t];!r[1](e);)r=l[++t];var o=r[0](e.date);return o}function a(e){return r(e)}var s=[{step:864e5,f:function(e){return void 0!==e.date&&!0}},{step:1728e5,f:function(e,t){return void 0!==e.date&&t%2===0}},{step:838e6,f:function(e,t,r){if(e.startOfMonth)return!0;var o=[];t-2>=0&&o.push(r[t-2]),t-1>=0&&o.push(r[t-1]),o.push(r[t]),t+1<=r.length-1&&o.push(r[t+1]),t+2<=r.length-1&&o.push(r[t+2]);var n=o.map(function(e){return e.startOfMonth}).reduce(function(e,t){return e||t});return n?!1:e.startOfWeek}},{step:3525e6,f:function(e){return e.startOfMonth}},{step:7776e6,f:function(e){return e.startOfQuarter}},{step:31536e6,f:function(e){return e.startOfYear}},{step:91536e15,f:function(e){return void 0!==e.date&&e.startOfYear&&e.date.getFullYear()%2===0}}],u=i["default"].bisector(function(e){return e.step}).left,c=i["default"].bisector(function(e){return t(e)}).left,l=[[i["default"].time.format("%Y"),function(e){return e.startOfYear}],[i["default"].time.format("%b %Y"),function(e){return e.startOfQuarter}],[i["default"].time.format("%b"),function(e){return e.startOfMonth}],[i["default"].time.format("%d %b"),function(e){return e.startOfWeek}],[i["default"].time.format("%a %d "),function(e){return!0}]];return a.isPolyLinear=function(){return!0},a.invert=function(e){return r.invert(e)},a.data=function(r){return arguments.length?(e=r,this.domain([t(e[0]),t(e[e.length-1])]),a):e},a.domain=function(e){if(!arguments.length)return r.domain();var t=[e[0],e[1]];return r.domain(t),a},a.range=function(e){return arguments.length?(r.range(e),a):r.range()},a.rangeRound=function(e){return r.range(e)},a.clamp=function(e){return arguments.length?(r.clamp(e),a):r.clamp()},a.interpolate=function(e){return arguments.length?(r.interpolate(e),a):r.interpolate()},a.ticks=function(r){var o,n,a=0;e.forEach(function(e){void 0!==e.date&&(void 0===o&&(o=e),n=e,a++)}),r=a/e.length*r;var i=n.date.getTime()-o.date.getTime(),c=i/r,l=e.filter(s[u(s,c)].f).map(function(e){return t(e)});return l},a.tickFormat=function(t){return function(t){var r=c(e,t);return o(e[r])}},a.nice=function(e){return r.nice(e),a},a.copy=function(){return n(e,t,r.copy())},a}var a=r(4),i=o(a),s=function(e){return n([0,1],e,i["default"].scale.linear())};e.exports=s},function(e,t){"use strict";function r(e,t,r,o,n){var a,i=e.map(function(e){var i={};return r(i,t(e)),i.close=(e.open+e.high+e.low+e.close)/4,n(i,o(e)),a?(i.open=(a.open+a.close)/2,i.high=Math.max(i.open,e.high,i.close),i.low=Math.min(i.open,e.low,i.close),i.trueRange=Math.max(e.high-e.low,e.high-a.close,e.low-a.close)):(i.open=e.open,i.high=e.high,i.low=e.low),i.volume=e.volume,i.startOfWeek=e.startOfWeek,i.startOfMonth=e.startOfMonth,i.startOfQuarter=e.startOfQuarter,i.startOfYear=e.startOfYear,a=i,i});return i}function o(e,t,o,n){var a=o.dateAccessor,i=o.dateMutator,s=o.indexAccessor,u=o.indexMutator,c={};return Object.keys(e).forEach(function(t){return c[t]=r(e[t],s,u,a,i)}),{data:c,other:n,options:o}}e.exports=o},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r,o){void 0===r&&(r={});var n=r.period||14;i["default"](e.D,n);var a,u,c,l=function(e){return e["atr"+n]},p=r,f=p.dateAccessor,d=p.dateMutator,h=p.indexMutator,y=[],v=0,m={};return e.D.forEach(function(e){void 0===m.from&&(h(m,v++),d(m,f(e)),m.from=f(e),m.open||(m.open=e.open),m.high=e.high,m.low=e.low,m.close||(m.close=s(e)),m.startOfYear=e.startOfYear,m.startOfQuarter=e.startOfQuarter,m.startOfMonth=e.startOfMonth,m.startOfWeek=e.startOfWeek),m.startOfYear||(m.startOfYear=e.startOfYear,m.startOfYear&&(m.date=e.date)),m.startOfQuarter||(m.startOfQuarter=e.startOfQuarter,m.startOfQuarter&&!m.startOfYear&&(m.date=e.date)),m.startOfMonth||(m.startOfMonth=e.startOfMonth,m.startOfMonth&&!m.startOfQuarter&&(m.date=e.date)),m.startOfWeek||(m.startOfWeek=e.startOfWeek,m.startOfWeek&&!m.startOfMonth&&(m.date=e.date)),m.volume=(m.volume||0)+e.volume,m.high=Math.max(m.high,e.high),m.low=Math.min(m.low,e.low),m.to=f(e);var t=s(e)-m.close;if(m.close>m.open&&t>0||m.close<m.open&&0>t)m.close=s(e),u&&m.close<u&&(m.changePoint=u,"yin"!==m.startAs&&(m.changeTo="yin")),a&&m.close>a&&(m.changePoint=a,"yang"!==m.startAs&&(m.changeTo="yang"));else if(m.close>m.open&&0>t&&Math.abs(t)>l(e)||m.close<m.open&&t>0&&Math.abs(t)>l(e)){var r=m.close;c=(m.close-m.open)/Math.abs(m.close-m.open);var o,n;0>c?(void 0===a&&(a=m.open),u=m.close,s(e)>a&&(o=a,n="yang")):(void 0===u&&(u=m.open),a=m.close,s(e)<u&&(o=u,n="yin")),void 0===m.startAs&&(m.startAs=c>0?"yang":"yin");var i=m.changeTo||m.startAs;y.push(m),c=-1*c,m={open:r,close:s(e),startAs:i,changePoint:o,changeTo:n}}}),{data:{D:y},other:o,options:r}}var a=r(19),i=o(a),s=function(e){return e.close};e.exports=n},function(e,t){"use strict";function r(e,t,r){for(var o=0,n=t;t+r>n;n++)o+=e[n].trueRange;return o}function o(e){var t=e[0];e.filter(function(e,t){return t>0}).forEach(function(r,o){r.trueRange=Math.max(r.high-r.low,r.high-t.close,r.low-t.close),t=e[o];
})}function n(e,t){o(e),e.forEach(function(o,n){if(n>t){var a=r(e,n-t,t)/t;o["atr"+t]=Math.round(100*a)/100}})}e.exports=n},function(e,t){"use strict";function r(e,t,r){var o={open:e.open,fromDate:t(e),toDate:t(e),startOfYear:e.startOfYear,startOfQuarter:e.startOfQuarter,startOfMonth:e.startOfMonth,startOfWeek:e.startOfWeek};return r(o,t(e)),o}function o(e,t,r){return e.forEach(function(e){e.startOfYear=!1,e.startOfQuarter=!1,e.startOfMonth=!1,e.startOfWeek=!1,e.boxes.forEach(function(o){void 0===e.open&&(e.open=o.open),e.close=o.close,e.high=Math.max(e.open,e.close),e.low=Math.min(e.open,e.close),void 0===e.fromDate&&(e.fromDate=o.fromDate),void 0===e.date&&(e.date=o.date),e.toDate=o.toDate,o.startOfYear&&(e.startOfYear=e.startOfYear||o.startOfYear,e.startOfQuarter=o.startOfQuarter,e.startOfMonth=o.startOfMonth,e.startOfWeek=o.startOfWeek,r(e,t(o))),e.startOfQuarter!==!0&&o.startOfQuarter&&(e.startOfQuarter=o.startOfQuarter,e.startOfMonth=o.startOfMonth,e.startOfWeek=o.startOfWeek,r(e,t(o))),e.startOfMonth!==!0&&o.startOfMonth&&(e.startOfMonth=o.startOfMonth,e.startOfWeek=o.startOfWeek,r(e,t(o))),e.startOfWeek!==!0&&o.startOfWeek&&(e.startOfWeek=o.startOfWeek,r(e,t(o)))})}),e}function n(e,t,n,s){var u={};Object.keys(i).forEach(function(e){return u[e]=i[e]}),n&&Object.keys(n).forEach(function(e){return u[e]=n[e]});var c=u.dateAccessor,l=u.dateMutator,p=u.indexAccessor,f=u.indexMutator,d=u.reversal,h=u.boxSize,y=[],v={boxes:[],open:e.D[0].open},m=r(e.D[0],c,l);return f(v,0),y.push(v),e.D.forEach(function(e){if(v.volume=v.volume||0,v.volume+=e.volume,m.startOfYear||(m.startOfYear=e.startOfYear,m.startOfYear&&l(m,c(e))),m.startOfYear||m.startOfQuarter||(m.startOfQuarter=e.startOfQuarter,m.startOfQuarter&&!m.startOfYear&&l(m,c(e))),m.startOfQuarter||m.startOfMonth||(m.startOfMonth=e.startOfMonth,m.startOfMonth&&!m.startOfQuarter&&l(m,c(e))),m.startOfMonth||m.startOfWeek||(m.startOfWeek=e.startOfWeek,m.startOfWeek&&!m.startOfMonth&&l(m,c(e))),1===y.length&&0===v.boxes.length){var t=Math.max(a(e).high-v.open,0),o=Math.abs(Math.min(v.open-a(e).low,0));if(v.direction=t>o?1:-1,t>h*d||o>h*d){m.toDate=c(e),m.open=v.open;for(var n=v.direction>0?Math.floor(t/h):Math.floor(o/h),i=0;n>i;i++){m.close=m.open+v.direction*h;var s=m.close;v.boxes.push(m),m=r(m,c,l),m.open=s}m.fromDate=c(e),m.date=c(e)}}else{var t=Math.max(a(e).high-m.open,0),o=Math.abs(Math.min(a(e).low-m.open,0));if(v.direction>0&&t>h||v.direction<0&&o>h){m.close=m.open+v.direction*h,m.toDate=c(e);var u=m.close;v.boxes.push(m),m=r(e,c,l),m.open=u,m.fromDate=c(e),l(m,c(e))}else if(v.direction>0&&o>h*d||v.direction<0&&t>h*d){m.open=m.open+-1*v.direction*h,m.toDate=c(e),l(m,c(e));var g=p(v)+1;v={boxes:[],direction:-1*v.direction},f(v,g);for(var n=v.direction>0?Math.floor(t/h):Math.floor(o/h),i=0;n>i;i++){m.close=m.open+v.direction*h;var b=m.close;v.boxes.push(m),m=r(e,c,l),m.open=b}y.push(v)}}}),o(y,c,l),{data:{D:y},other:s,options:u}}var a=function(e){return{high:e.high,low:e.low}},i={boxSize:.5,reversal:3};e.exports=n},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r,o){var n={};Object.keys(u).forEach(function(e){return n[e]=u[e]}),r&&Object.keys(r).forEach(function(e){return n[e]=r[e]});var a=n.dateAccessor,c=n.dateMutator,l=n.indexAccessor,p=n.indexMutator,f=n.period;i["default"](e.D,f);var d=function(e){return e["atr"+f]},h=[],y=0,v=e.D[y].open,m=e.D[y].open,g={},b=0;return e.D.forEach(function(t){void 0===g.from&&(g.high=t.high,g.low=t.low,g.startOfYear=t.startOfYear,g.startOfQuarter=t.startOfQuarter,g.startOfMonth=t.startOfMonth,g.startOfWeek=t.startOfWeek,g.from=l(t),g.fromDate=a(t),p(g,y++),c(g,a(t))),g.volume=(g.volume||0)+t.volume;var r=v-s(t).high,o=v-s(t).low,n=m-s(t).high,i=m-s(t).low,u=Math.min(Math.abs(r),Math.abs(o),Math.abs(n),Math.abs(i));if(g.high=Math.max(g.high,t.high),g.low=Math.min(g.low,t.low),g.startOfYear||(g.startOfYear=t.startOfYear,g.startOfYear&&c(g,a(t))),g.startOfQuarter||(g.startOfQuarter=t.startOfQuarter,g.startOfQuarter&&!g.startOfYear&&c(g,a(t))),g.startOfMonth||(g.startOfMonth=t.startOfMonth,g.startOfMonth&&!g.startOfQuarter&&c(g,a(t))),g.startOfWeek||(g.startOfWeek=t.startOfWeek,g.startOfWeek&&!g.startOfMonth&&c(g,a(t))),d(t)){var f=Math.floor(u/d(t));if(g.open=Math.abs(r)<Math.abs(n)||Math.abs(o)<Math.abs(i)?v:m,f>=1){for(var O=0;f>O;O++){g.close=g.open<s(t).high?g.open+d(t):g.open-d(t),b=g.close>g.open?1:-1,g.direction=b,g.to=l(t),g.toDate=a(t),g.fullyFormed=!0,h.push(g),v=g.close,m=g.open;var x={high:g.high,low:g.low,open:g.close,startOfYear:!1,startOfMonth:!1,startOfQuarter:!1,startOfWeek:!1};g=x,g.from=l(t),g.fromDate=a(t),p(g,y+O),c(g,a(t)),g.volume=(g.volume||0)+t.volume}y=y+O-1,g={}}else l(t)===e.D.length-1&&(g.close=b>0?s(t).high:s(t).low,g.to=l(t),g.toDate=a(t),c(g,a(t)),g.fullyFormed=!1,h.push(g))}}),{data:{D:h},other:o,options:n}}var a=r(19),i=o(a),s=function(e){return{high:e.high,low:e.low}},u={boxSize:.5,reversal:3,period:14};e.exports=n},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e instanceof Date?e.getTime():e}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},c=r(2),l=o(c),p=r(7),f=o(p),d=r(12),h=(o(d),r(3)),y=o(h),v=r(10),m=o(v),g=function(e){function t(e,r){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleZoom=this.handleZoom.bind(this),this.handlePanStart=this.handlePanStart.bind(this),this.handlePan=this.handlePan.bind(this),this.handlePanEnd=this.handlePanEnd.bind(this),this.handleFocus=this.handleFocus.bind(this),this.state={focus:!1,currentItems:[],show:!1,mouseXY:[0,0],panInProgress:!1}}return a(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props,t=this.context,r=t.data,o=t.initialDisplay,n=(t.initialStartIndex,t.dataTransformProps),a=t.interval,i=r[a],s=y["default"].getMainChart(e.children),u=Math.max(i.length-o,0),c=i.slice(u),l=y["default"].getChartData(e,t,c,r,n);this.setState({plotData:c,chartData:l,interval:this.context.interval,mainChart:s,currentCharts:[s]})}},{key:"componentWillReceiveProps",value:function(e,t){var r=this.state,o=r.interval,n=r.chartData,a=r.plotData,i=t.data,s=t.dataTransformProps,u=i[o],c=y["default"].getMainChart(e.children),l=n.filter(function(e){return e.id===c})[0],p=f["default"].getClosestItemIndexes(u,l.config.accessors.xAccessor(a[0]),l.config.accessors.xAccessor).left,d=f["default"].getClosestItemIndexes(u,l.config.accessors.xAccessor(a[a.length-1]),l.config.accessors.xAccessor).right,h=u.slice(p,d),v=y["default"].getChartData(e,t,a,i,s);console.log("componentWillReceiveProps"),this.setState({chartData:v,plotData:h,currentItems:[],show:!1,mouseXY:[0,0],mainChart:c})}},{key:"getChildContext",value:function(){return{plotData:this.state.plotData,chartData:this.state.chartData,currentItems:this.state.currentItems,mainChart:this.state.mainChart,show:this.state.show,mouseXY:this.state.mouseXY,interval:this.state.interval,currentCharts:this.state.currentCharts,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onZoom:this.handleZoom,onPanStart:this.handlePanStart,onPan:this.handlePan,onPanEnd:this.handlePanEnd,onFocus:this.handleFocus,panInProgress:this.state.panInProgress,focus:this.state.focus}}},{key:"handleMouseMove",value:function(e){var t=y["default"].getCurrentItems(this.state.chartData,e,this.state.plotData),r=this.state.chartData.filter(function(t){var r=t.config.origin[1],o=r+t.config.height;return e[1]>r&&e[1]<o}).map(function(e){return e.id});this.setState({mouseXY:e,currentItems:t,show:!0,currentCharts:r})}},{key:"handleMouseEnter",value:function(){this.setState({show:!0})}},{key:"handleMouseLeave",value:function(){this.setState({show:!1})}},{key:"handleZoom",value:function(e,t){var r=this.state,o=r.mainChart,n=r.chartData,a=r.plotData,s=r.interval,u=this.context,c=u.data,l=u.recordInitialState,p=n.filter(function(e){return e.id===o})[0],f=y["default"].getClosestItem(a,t,p),d=p.plot.scales.xScale,h=d.domain(),v=p.config.accessors.xAccessor(f),m=v-h[0],g=h[1]-v,b=Math.pow(1+Math.abs(e)/2,e),O=i(v)-m*b,x=i(v)+g*b,P=Math.abs(h[1]-h[0]),T=c[s],w=T[T.length-1],k=T[0];O=Math.max(i(p.config.accessors.xAccessor(k))-Math.floor(P/3),O),x=Math.min(i(p.config.accessors.xAccessor(w))+Math.floor(P/3),x);var S=y["default"].getDataToPlotForDomain(O,x,c,p.config.width,p.config.accessors.xAccessor);if(!(S.data.length<10)){var M=n.map(function(e){var t=y["default"].getChartPlotFor(e.config,S.data,O,x);return{id:e.id,config:e.config,plot:t}});this.setState({chartData:M,plotData:S.data,interval:S.interval},function(){l({beginIndex:S.leftIndex,interval:S.interval,displayCount:S.rightIndex-S.leftIndex})})}}},{key:"handlePanStart",value:function(e,t){this.setState({panInProgress:!0,panStartDomain:e,panOrigin:t,focus:!0})}},{key:"handlePan",value:function(e,t){var r=this,o=this.state,n=o.mainChart,a=o.chartData,s=o.interval,u=o.panStartDomain,c=o.panOrigin,l=this.context,p=l.data,d=l.recordInitialState;null===u?this.handlePanStart(t,e):requestAnimationFrame(function(){var t=a.filter(function(e){return e.id===n})[0],o=u[1]-u[0],l=p[s],h=l[l.length-1],v=l[0],m=e[0]-c[0],g=t.config.accessors.xAccessor,b=i(u[0])-m/t.config.width*o;b=b<i(g(v))-Math.floor(o/3)?i(g(v))-Math.floor(o/3):Math.min(i(g(h))+Math.ceil(o/3),b+o)-o;var O=b,x=b+o;u[0]instanceof Date&&(O=new Date(O),x=new Date(x));var P=f["default"].getClosestItemIndexes(l,O,g),T=f["default"].getClosestItemIndexes(l,x,g),w=P.right,k=T.right,S=l.slice(w,k),M=a.map(function(e){var t=y["default"].getChartPlotFor(e.config,S,O,x);return{id:e.id,config:e.config,plot:t}}),C=y["default"].getCurrentItems(M,e,S),D=M.filter(function(t){var r=t.config.origin[1],o=r+t.config.height;return e[1]>r&&e[1]<o}).map(function(e){return e.id});r.setState({chartData:M,plotData:S,currentItems:C,mouseXY:e,currentCharts:D},function(){d({beginIndex:w,interval:s,displayCount:k-w})})})}},{key:"handlePanEnd",value:function(){this.setState({panInProgress:!1,panStartDomain:null})}},{key:"handleFocus",value:function(e){this.setState({focus:e})}},{key:"render",value:function(){var e=this,t=l["default"].Children.map(this.props.children,function(t){var r=f["default"].isReactVersion13()?l["default"].withContext(e.getChildContext(),function(){return l["default"].createElement(t.type,m["default"]({key:t.key,ref:t.ref},t.props))}):l["default"].cloneElement(t);return r});return l["default"].createElement("g",null,t)}}]),t}(l["default"].Component);g.contextTypes={width:l["default"].PropTypes.number.isRequired,height:l["default"].PropTypes.number.isRequired,data:l["default"].PropTypes.object,dataTransformOptions:l["default"].PropTypes.object,dataTransformProps:l["default"].PropTypes.object,plotData:l["default"].PropTypes.array,chartData:l["default"].PropTypes.array,initialStartIndex:l["default"].PropTypes.number.isRequired,initialDisplay:l["default"].PropTypes.number.isRequired,interval:l["default"].PropTypes.string,recordInitialState:l["default"].PropTypes.func.isRequired},g.childContextTypes={plotData:l["default"].PropTypes.array,chartData:l["default"].PropTypes.array,currentItems:l["default"].PropTypes.array,show:l["default"].PropTypes.bool,mouseXY:l["default"].PropTypes.array,interval:l["default"].PropTypes.string,currentCharts:l["default"].PropTypes.array,mainChart:l["default"].PropTypes.number,onMouseMove:l["default"].PropTypes.func,onMouseEnter:l["default"].PropTypes.func,onMouseLeave:l["default"].PropTypes.func,onZoom:l["default"].PropTypes.func,onPanStart:l["default"].PropTypes.func,onPan:l["default"].PropTypes.func,onPanEnd:l["default"].PropTypes.func,panInProgress:l["default"].PropTypes.bool.isRequired,focus:l["default"].PropTypes.bool.isRequired,onFocus:l["default"].PropTypes.func},e.exports=g},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(4),p=o(l),f=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.updateAxis=this.updateAxis.bind(this)}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this.updateAxis()}},{key:"componentDidUpdate",value:function(){this.updateAxis()}},{key:"updateAxis",value:function(){var e=p["default"].svg.axis().scale(this.context.xScale).orient(this.props.orient);this.props.orient&&e.orient(this.props.orient),this.props.innerTickSize&&e.innerTickSize(this.props.innerTickSize),this.props.outerTickSize&&e.outerTickSize(this.props.outerTickSize),this.props.tickFormat&&(this.context.xScale.isPolyLinear&&this.context.xScale.isPolyLinear()?console.warn("Cannot set tickFormat on a poly linear scale, ignoring tickFormat on XAxis"):e.tickFormat(this.props.tickFormat)),this.props.tickPadding&&e.tickPadding(this.props.tickPadding),this.props.tickSize&&e.tickSize(this.props.tickSize),this.props.ticks&&e.ticks(this.props.ticks),this.props.tickValues&&e.tickValues(this.props.tickValues),this.props.noTicks&&(e.tickSize(0),e.tickValues([])),p["default"].select(c["default"].findDOMNode(this)).call(e)}},{key:"render",value:function(){var e=this.props.axisAt;this.context.yScale.range();return"top"===this.props.axisAt&&(e=0),"bottom"===this.props.axisAt&&(e=this.context.height),"middle"===this.props.axisAt&&(e=this.context.height/2),c["default"].createElement("g",{className:"x axis",transform:"translate(0, "+e+")"})}}]),t}(c["default"].Component);f.propTypes={axisAt:c["default"].PropTypes.oneOfType([c["default"].PropTypes.oneOf(["top","bottom","middle"]),c["default"].PropTypes.number]).isRequired,orient:c["default"].PropTypes.oneOf(["top","bottom"]).isRequired,innerTickSize:c["default"].PropTypes.number,outerTickSize:c["default"].PropTypes.number,tickFormat:c["default"].PropTypes.func,tickPadding:c["default"].PropTypes.number,tickSize:c["default"].PropTypes.number,ticks:c["default"].PropTypes.number,tickValues:c["default"].PropTypes.array},f.defaultProps={namespace:"ReStock.XAxis",showGrid:!1},f.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,height:c["default"].PropTypes.number.isRequired,width:c["default"].PropTypes.number.isRequired},e.exports=f},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},s=r(2),u=r(4),c=function(e){function t(e){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.updateAxis=this.updateAxis.bind(this)}return n(t,e),a(t,[{key:"componentDidMount",value:function(){this.updateAxis()}},{key:"componentDidUpdate",value:function(){this.updateAxis()}},{key:"updateAxis",value:function(){var e=this.context.yScale;this.props.percentScale&&(e=e.copy().domain([0,1]));var t=u.svg.axis().scale(e).orient(this.props.orient);this.props.orient&&t.orient(this.props.orient),this.props.innerTickSize&&t.innerTickSize(this.props.innerTickSize),this.props.outerTickSize&&t.outerTickSize(this.props.outerTickSize),this.context.isCompareSeries?t.tickFormat(u.format(".0%")):this.props.tickFormat&&t.tickFormat(this.props.tickFormat),this.props.tickPadding&&t.tickPadding(this.props.tickPadding),this.props.tickSize&&t.tickSize(this.props.tickSize),this.props.ticks&&t.ticks(this.props.ticks),this.props.tickValues&&t.tickValues(this.props.tickValues),u.select(s.findDOMNode(this)).call(t)}},{key:"render",value:function(){var e=this.props.axisAt,t=this.context.xScale.range();return"left"===this.props.axisAt&&(e=Math.min(t[0],t[1])+this.props.axisPadding),"right"===this.props.axisAt&&(e=Math.max(t[0],t[1])+this.props.axisPadding),"middle"===this.props.axisAt&&(e=(t[0]+t[1])/2+this.props.axisPadding),s.createElement("g",{className:"y axis",transform:"translate("+e+", 0)"})}}]),t}(s.Component);c.propTypes={axisAt:s.PropTypes.oneOfType([s.PropTypes.oneOf(["left","right","middle"]),s.PropTypes.number]).isRequired,orient:s.PropTypes.oneOf(["left","right"]).isRequired,innerTickSize:s.PropTypes.number,outerTickSize:s.PropTypes.number,tickFormat:s.PropTypes.func,tickPadding:s.PropTypes.number,tickSize:s.PropTypes.number,ticks:s.PropTypes.number,tickValues:s.PropTypes.array,percentScale:s.PropTypes.bool,axisPadding:s.PropTypes.number},c.defaultProps={namespace:"ReStock.YAxis",showGrid:!1,axisPadding:0},c.contextTypes={xScale:s.PropTypes.func.isRequired,yScale:s.PropTypes.func.isRequired,isCompareSeries:s.PropTypes.bool.isRequired},e.exports=c},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(12),p=o(l),f=r(7),d=o(f),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"getChildContext",value:function(){var e=this,t=this.context.chartData.filter(function(t){return t.id===e.props.id})[0];this.getOrigin();return{xScale:t.plot.scales.xScale,yScale:t.plot.scales.yScale,xAccessor:t.config.accessors.xAccessor,yAccessor:t.config.accessors.yAccessor,overlays:t.config.overlays,compareSeries:t.config.compareSeries,indicatorOptions:t.config.indicatorOptions,isCompareSeries:t.config.compareSeries.length>0,width:this.props.width||this.context.width,height:this.props.height||this.context.height}}},{key:"getOrigin",value:function(){var e="function"==typeof this.props.origin?this.props.origin(this.context.width,this.context.height):this.props.origin;return e}},{key:"render",value:function(){var e=this,t=this.getOrigin(),r=c["default"].Children.map(this.props.children,function(t){var r=d["default"].isReactVersion13()?c["default"].withContext(e.getChildContext(),function(){return c["default"].createElement(t.type,d["default"].mergeObject({key:t.key,ref:t.ref},t.props))}):c["default"].cloneElement(t);return r});return c["default"].createElement("g",{transform:"translate("+t[0]+", "+t[1]+")"},r)}}]),t}(p["default"]);h.propTypes={height:c["default"].PropTypes.number,width:c["default"].PropTypes.number,origin:c["default"].PropTypes.oneOfType([c["default"].PropTypes.array,c["default"].PropTypes.func]).isRequired,id:c["default"].PropTypes.number.isRequired,xScale:c["default"].PropTypes.func,yScale:c["default"].PropTypes.func,xDomainUpdate:c["default"].PropTypes.bool,yDomainUpdate:c["default"].PropTypes.bool,yMousePointerDisplayLocation:c["default"].PropTypes.oneOf(["left","right"]),yMousePointerDisplayFormat:c["default"].PropTypes.func,padding:c["default"].PropTypes.object.isRequired},h.defaultProps={namespace:"ReStock.Chart",transformDataAs:"none",yDomainUpdate:!0,origin:[0,0],padding:{top:0,right:0,bottom:0,left:0}},h.contextTypes={width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired,chartData:c["default"].PropTypes.array},h.childContextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,overlays:c["default"].PropTypes.array.isRequired,indicatorOptions:c["default"].PropTypes.object,isCompareSeries:c["default"].PropTypes.bool.isRequired,compareSeries:c["default"].PropTypes.array.isRequired,width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired},e.exports=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=c["default"].Children.map(this.props.children,function(t){var r=p["default"].isReactVersion13()?c["default"].withContext(e.context,function(){return c["default"].createElement(t.type,p["default"].mergeObject({key:t.key,ref:t.ref},t.props))}):c["default"].cloneElement(t);return r});return c["default"].createElement("g",{style:{clipPath:"url(#chart-area-clip)"}},t)}}]),t}(c["default"].Component);f.propTypes={xAccessor:c["default"].PropTypes.func,yAccessor:c["default"].PropTypes.func},f.defaultProps={namespace:"ReStock.DataSeries",compareBase:function(e){return e.close}},e.exports=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(4),p=o(l),f=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getPath=this.getPath.bind(this),this.getArea=this.getArea.bind(this)}return a(t,e),i(t,[{key:"getPath",value:function(){var e=this,t=p["default"].svg.line().defined(function(t){return void 0!==e.context.yAccessor(t)}).x(function(t){return e.context.xScale(e.context.xAccessor(t))}).y(function(t){return e.context.yScale(e.context.yAccessor(t))});return t(this.context.plotData)}},{key:"getArea",value:function(){var e=this,t=this.context.yScale.range()[0],r=p["default"].svg.area().defined(function(t){return void 0!==e.context.yAccessor(t)}).x(function(t){return e.context.xScale(e.context.xAccessor(t))}).y0(t-1).y1(function(t){return e.context.yScale(e.context.yAccessor(t))});return r(this.context.plotData)}},{key:"render",value:function(){return c["default"].createElement("g",null,c["default"].createElement("path",{d:this.getPath(),className:"line line-stroke"}),c["default"].createElement("path",{d:this.getArea(),className:"area"}))}}]),t}(c["default"].Component);f.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired},f.defaultProps={namespace:"ReStock.AreaSeries"},e.exports=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(4),p=o(l),f=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getPath=this.getPath.bind(this)}return a(t,e),i(t,[{key:"getPath",value:function(){var e=this,t=p["default"].svg.line().defined(function(t){return void 0!==e.context.yAccessor(t)}).x(function(t){return e.context.xScale(e.context.xAccessor(t))}).y(function(t){return e.context.yScale(e.context.yAccessor(t))});return t(this.context.plotData)}},{key:"render",value:function(){var e=this.props.className.concat(void 0!==this.context.stroke?"":" line-stroke");return c["default"].createElement("path",{d:this.getPath(),stroke:this.context.stroke,fill:"none",className:e})}}]),t}(c["default"].Component);f.propTypes={className:c["default"].PropTypes.string},f.defaultProps={namespace:"ReStock.LineSeries",className:"line "},f.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired,stroke:c["default"].PropTypes.string},e.exports=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(4),p=o(l),f=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getPath=this.getPath.bind(this)}return a(t,e),i(t,[{key:"getPath",value:function(){var e=this,t=p["default"].svg.line().defined(function(t){return void 0!==t.compare["compare_"+e.props.id]}).x(function(t){return e.context.xScale(e.context.xAccessor(t))}).y(function(t){return e.context.yScale(t.compare["compare_"+e.props.id])});return t(this.context.plotData)}},{key:"render",value:function(){var e=this,t=this.context.compareSeries.filter(function(t){return t.id===e.props.id})[0];return c["default"].createElement("path",{d:this.getPath(),stroke:t.stroke,fill:"none",className:this.props.className})}}]),t}(c["default"].Component);f.propTypes={className:c["default"].PropTypes.string,stroke:c["default"].PropTypes.string,displayLabel:c["default"].PropTypes.string.isRequired,id:c["default"].PropTypes.number.isRequired},f.defaultProps={namespace:"ReStock.CompareSeries",className:"line "},f.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired,compareSeries:c["default"].PropTypes.array.isRequired},e.exports=f;
},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getWicks=this.getWicks.bind(this),this.getCandles=this.getCandles.bind(this)}return a(t,e),i(t,[{key:"getWicks",value:function(){var e=this,t=this.context.plotData.filter(function(e){return void 0!==e.close}).map(function(t,r){var o=e.context.isCompareSeries?e.context.yAccessor(t.compare):e.context.yAccessor(t),n=Math.round(e.context.xScale(e.context.xAccessor(t))),a=e.context.yScale(o.high),i=n,s=e.context.yScale(o.low),u=o.open>=o.close?"up":"down";return c["default"].createElement("line",{key:r,className:u,x1:n,y1:a,x2:i,y2:s})});return t}},{key:"getCandles",value:function(){var e=this,t=this.context.xScale(this.context.xAccessor(this.context.plotData[this.context.plotData.length-1]))-this.context.xScale(this.context.xAccessor(this.context.plotData[0])),r=t/this.context.plotData.length*.5,o=Math.floor(r)%2===0?Math.floor(r):Math.round(r),n=this.context.plotData.filter(function(e){return void 0!==e.close}).map(function(t,r){var n=e.context.isCompareSeries?e.context.yAccessor(t.compare):e.context.yAccessor(t),a=Math.round(e.context.xScale(e.context.xAccessor(t)))-(1===o?0:.5*o),i=e.context.yScale(Math.max(n.open,n.close)),s=Math.abs(e.context.yScale(n.open)-e.context.yScale(n.close)),u=n.open<=n.close?"up":"down";return n.open===n.close?c["default"].createElement("line",{key:r,x1:a,y1:i,x2:a+o,y2:i}):1>=o?c["default"].createElement("line",{className:u,key:r,x1:a,y1:i,x2:a,y2:i+s}):c["default"].createElement("rect",{key:r,className:u,x:a,y:i,width:o,height:s})});return n}},{key:"render",value:function(){return c["default"].createElement("g",null,c["default"].createElement("g",{className:"wick",key:"wicks"},this.getWicks()),c["default"].createElement("g",{className:"candle",key:"candles"},this.getCandles()))}}]),t}(c["default"].Component);l.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired,isCompareSeries:c["default"].PropTypes.bool.isRequired},l.defaultProps={namespace:"ReStock.CandlestickSeries"},l.yAccessor=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},e.exports=l},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"getChildContext",value:function(){var e=this,t=this.context.overlays.filter(function(t){return t.id===e.props.id})[0];return{yAccessor:t.yAccessor,stroke:t.stroke}}},{key:"render",value:function(){var e=this,t=c["default"].Children.map(this.props.children,function(t){var r=p["default"].isReactVersion13()?c["default"].withContext(e.getChildContext(),function(){return c["default"].createElement(t.type,p["default"].mergeObject({key:t.key,ref:t.ref},t.props))}):c["default"].cloneElement(t);return r});return c["default"].createElement("g",null,t)}}]),t}(c["default"].Component);f.propTypes={type:c["default"].PropTypes.oneOf(["sma","ema"]),options:c["default"].PropTypes.object.isRequired,id:c["default"].PropTypes.number.isRequired,stroke:c["default"].PropTypes.string},f.defaultProps={namespace:"ReStock.OverlaySeries"},f.contextTypes={overlays:c["default"].PropTypes.array.isRequired},f.childContextTypes={yAccessor:c["default"].PropTypes.func.isRequired,stroke:c["default"].PropTypes.string.isRequired},e.exports=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getBars=this.getBars.bind(this)}return a(t,e),i(t,[{key:"getBars",value:function(){var e=this,t="top"===this.props.baseAt?0:"bottom"===this.props.baseAt?this.context.yScale.range()[0]:"middle"===this.props.baseAt?(this.context.yScale.range()[0]+this.context.yScale.range()[1])/2:this.props.baseAt,r="up"===this.props.direction?-1:1,o=function(){return e.props.className};"function"==typeof this.props.className&&(o=this.props.className);var n=Math.abs(this.context.xScale.range()[0]-this.context.xScale.range()[1]),a=n/this.context.plotData.length*.5,i=this.context.plotData.filter(function(t){return void 0!==e.context.yAccessor(t)}).map(function(n,i){var s,u,l=e.context.yAccessor(n),p=Math.round(e.context.xScale(e.context.xAccessor(n)))-.5*a,f=o(n);return r>0?(s=t,u=e.context.yScale.range()[0]-e.context.yScale(l)):(s=e.context.yScale(l),u=t-s),0>u&&(s=t,u=-u),Math.round(a)<=1?c["default"].createElement("line",{key:i,className:f,stroke:e.props.stroke,fill:e.props.fill,x1:Math.round(p),y1:Math.round(s),x2:Math.round(p),y2:Math.round(s+u)}):c["default"].createElement("rect",{key:i,className:f,stroke:e.props.stroke,fill:e.props.fill,x:Math.round(p),y:Math.round(s),width:Math.round(a),height:Math.round(u)})});return i}},{key:"render",value:function(){return c["default"].createElement("g",{className:"histogram"},this.getBars())}}]),t}(c["default"].Component);l.propTypes={baseAt:c["default"].PropTypes.oneOfType([c["default"].PropTypes.oneOf(["top","bottom","middle"]),c["default"].PropTypes.number]).isRequired,direction:c["default"].PropTypes.oneOf(["up","down"]).isRequired,stroke:c["default"].PropTypes.string,fill:c["default"].PropTypes.string,className:c["default"].PropTypes.oneOfType([c["default"].PropTypes.func,c["default"].PropTypes.string]).isRequired},l.defaultProps={namespace:"ReStock.HistogramSeries",baseAt:"bottom",direction:"up",className:"bar"},l.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired},e.exports=l},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(4),p=o(l),f=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){for(var e=this,t=[],r={},o=0;o<this.context.plotData.length;o++){var n=this.context.plotData[o];if(void 0!==n.close){void 0===r.type&&(r.type=n.startAs),void 0===r.plot&&(r.plot=[]);var a=this.context.xAccessor(n);r.plot.push([a,n.open]),void 0!==n.changePoint&&(r.plot.push([a,n.changePoint]),t.push(r),r={type:n.changeTo,plot:[]},r.plot.push([a,n.changePoint]))}}var i=t.map(function(t,r){var o=p["default"].svg.line().x(function(t){return e.context.xScale(t[0])}).y(function(t){return e.context.yScale(t[1])}).interpolate("step-before");return c["default"].createElement("path",{key:r,d:o(t.plot),className:t.type})});return c["default"].createElement("g",null,i)}}]),t}(c["default"].Component);f.defaultProps={namespace:"ReStock.KagiSeries"},f.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired},f.yAccessor=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},e.exports=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=!1,p=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"handleClick",value:function(e){console.log(this.context.plotData[e])}},{key:"render",value:function(){for(var e,t=this,r=this.context.xScale(this.context.xAccessor(this.context.plotData[this.context.plotData.length-1]))-this.context.xScale(this.context.xAccessor(this.context.plotData[0])),o=r/(this.context.plotData.length-1),n=0;void 0===e;)void 0!==this.context.plotData[n].close&&(e=this.context.plotData[n].boxes[0]),n++;var a=Math.abs(this.context.yScale(e.open)-this.context.yScale(e.close)),i=this.context.plotData.filter(function(e){return void 0!==e.close}).map(function(e,r){var n=e.boxes.map(function(n,i){var s;return s=e.direction>0?c["default"].createElement("g",{key:r+"-"+i},c["default"].createElement("line",{className:"point_figure_up",x1:0,y1:t.context.yScale(n.open),x2:o,y2:t.context.yScale(n.close)}),c["default"].createElement("line",{className:"point_figure_up",x1:0,y1:t.context.yScale(n.close),x2:o,y2:t.context.yScale(n.open)})):c["default"].createElement("ellipse",{key:r+"-"+i,className:"point_figure_down",cx:o/2,cy:t.context.yScale((n.open+n.close)/2),rx:o/2,ry:a/2})}),i=l?c["default"].createElement("rect",{x:0,y:0,height:980,width:o,style:{opacity:.1},onClick:t.handleClick.bind(t,r)}):null,s=c["default"].createElement("g",{key:r,transform:"translate("+(t.context.xScale(t.context.xAccessor(e))-o/2)+", 0)"},n,i);return s});return c["default"].createElement("g",null,i)}}]),t}(c["default"].Component);p.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired},p.defaultProps={namespace:"ReStock.PointAndFigureSeries"},p.yAccessor=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},e.exports=p},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.context.xScale(this.context.xAccessor(this.context.plotData[this.context.plotData.length-1]))-this.context.xScale(this.context.xAccessor(this.context.plotData[0])),r=t/(this.context.plotData.length-1),o=this.context.plotData.filter(function(e){return void 0!==e.close}).map(function(t,o){var n=e.context.yAccessor(t),a=e.context.xScale(e.context.xAccessor(t))-.5*r,i=e.context.yScale(Math.max(n.open,n.close)),s=Math.abs(e.context.yScale(n.open)-e.context.yScale(n.close)),u=n.open<=n.close?"up":"down";return c["default"].createElement("rect",{key:o,className:u,x:a,y:i,width:r,height:s})});return c["default"].createElement("g",null,c["default"].createElement("g",{className:"candle"},o))}}]),t}(c["default"].Component);l.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired},l.defaultProps={namespace:"ReStock.RenkoSeries"},l.yAccessor=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},e.exports=l},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(4),p=o(l),f=r(32),d=o(f),h=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getMACDLine=this.getMACDLine.bind(this),this.getSignalLine=this.getSignalLine.bind(this),this.getHorizontalLine=this.getHorizontalLine.bind(this)}return a(t,e),i(t,[{key:"getMACDLine",value:function(){var e=this,t=p["default"].svg.line().defined(function(t){return void 0!==(e.context.yAccessor(t)&&e.context.yAccessor(t).MACDLine)}).x(function(t){return e.context.xScale(e.context.xAccessor(t))}).y(function(t){return e.context.yScale(e.context.yAccessor(t).MACDLine)});return t(this.context.plotData)}},{key:"getSignalLine",value:function(){var e=this,t=p["default"].svg.line().defined(function(t){return void 0!==(e.context.yAccessor(t)&&e.context.yAccessor(t).signalLine)}).x(function(t){return e.context.xScale(e.context.xAccessor(t))}).y(function(t){return e.context.yScale(e.context.yAccessor(t).signalLine)});return t(this.context.plotData)}},{key:"getChildContext",value:function(){var e=this.context.yAccessor;return{yAccessor:function(t){return e(t)&&e(t).histogram}}}},{key:"getHorizontalLine",value:function(){var e=this.context.xAccessor(this.context.plotData[0]),t=this.context.xAccessor(this.context.plotData[this.context.plotData.length-1]);return c["default"].createElement("line",{x1:this.context.xScale(e),y1:this.context.yScale(0),x2:this.context.xScale(t),y2:this.context.yScale(0),className:"horizontal"})}},{key:"render",value:function(){var e=this.context.indicatorOptions;return c["default"].createElement("g",{className:"macd-series"},c["default"].createElement("path",{d:this.getMACDLine(),stroke:e.stroke.MACDLine,fill:"none"}),c["default"].createElement("path",{d:this.getSignalLine(),stroke:e.stroke.signalLine,fill:"none"}),c["default"].createElement(d["default"],{baseAt:this.context.yScale(0),className:"macd-histogram",stroke:e.stroke.histogram,fill:e.fill.histogram}),this.getHorizontalLine())}}]),t}(c["default"].Component);h.contextTypes={xScale:c["default"].PropTypes.func.isRequired,yScale:c["default"].PropTypes.func.isRequired,xAccessor:c["default"].PropTypes.func.isRequired,yAccessor:c["default"].PropTypes.func.isRequired,plotData:c["default"].PropTypes.array.isRequired,indicatorOptions:c["default"].PropTypes.object.isRequired},h.childContextTypes={yAccessor:c["default"].PropTypes.func.isRequired},h.defaultProps={namespace:"ReStock.MACDSeries"},e.exports=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView);return t}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},c=r(2),l=o(c),p=r(4),f=o(p),d=r(7),h=o(d),y="mousemove.pan",v="mouseup.pan",m=function(e){function t(e){n(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.toggleFocus=this.toggleFocus.bind(this),this.setFocus=this.setFocus.bind(this),this.handleEnter=this.handleEnter.bind(this),this.handleLeave=this.handleLeave.bind(this),this.handleWheel=this.handleWheel.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handlePanEnd=this.handlePanEnd.bind(this),this.handlePan=this.handlePan.bind(this)}return a(t,e),s(t,[{key:"componentWillMount",value:function(){this.context.onFocus&&this.context.onFocus(this.props.defaultFocus)}},{key:"toggleFocus",value:function(){this.setFocus(!this.state.inFocus)}},{key:"setFocus",value:function(e){this.setState({inFocus:e})}},{key:"handleEnter",value:function(){this.context.onMouseEnter&&this.context.onMouseEnter()}},{key:"handleLeave",value:function(){this.context.onMouseLeave&&this.context.onMouseLeave()}},{key:"handleWheel",value:function(e){if(this.props.zoom&&this.context.onZoom&&this.context.focus){e.stopPropagation(),e.preventDefault();var t=e.deltaY>0?this.props.zoomMultiplier:-this.props.zoomMultiplier,r=h["default"].mousePosition(e);this.context.onZoom(t,r)}}},{key:"handleMouseMove",value:function(e){if(this.context.onMouseMove&&this.props.mouseMove&&!this.context.panInProgress){var t=h["default"].mousePosition(e);this.context.onMouseMove(t)}}},{key:"handleMouseDown",value:function(e){var t=this,r=e||f["default"].event,o=this.context.chartData.filter(function(e){return e.id===t.props.mainChart})[0];if(this.props.pan&&this.context.onPanStart){var n=h["default"].mousePosition(r);this.context.onPanStart(o.plot.scales.xScale.domain(),n);var a=r.pageX-n[0],s=r.pageY-n[1],u=i(l["default"].findDOMNode(this.refs.capture));f["default"].select(u).on(y,this.handlePan).on(v,this.handlePanEnd),this.setState({deltaXY:[a,s]})}else!this.context.focus&&this.context.onFocus&&this.context.onFocus(!0);r.preventDefault()}},{key:"handlePan",value:function(){var e=this,t=this.state.deltaXY,r=[f["default"].event.pageX-t[0],f["default"].event.pageY-t[1]];if(this.props.pan&&this.context.onPan){var o=this.context.chartData.filter(function(t){return t.id===e.props.mainChart})[0];this.context.onPan(r,o.plot.scales.xScale.domain())}}},{key:"handlePanEnd",value:function(){var e=i(l["default"].findDOMNode(this.refs.capture));f["default"].select(e).on(y,null).on(v,null),this.props.pan&&this.context.onPanEnd&&this.context.onPanEnd()}},{key:"render",value:function(){var e=this.context.panInProgress?"grabbing":"crosshair";return l["default"].createElement("rect",{ref:"capture",className:e,width:this.context.width,height:this.context.height,style:{opacity:0},onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onMouseDown:this.handleMouseDown})}}]),t}(l["default"].Component);m.propTypes={mainChart:l["default"].PropTypes.number.isRequired,mouseMove:l["default"].PropTypes.bool.isRequired,zoom:l["default"].PropTypes.bool.isRequired,zoomMultiplier:l["default"].PropTypes.number.isRequired,pan:l["default"].PropTypes.bool.isRequired,panSpeedMultiplier:l["default"].PropTypes.number.isRequired,defaultFocus:l["default"].PropTypes.bool.isRequired},m.defaultProps={namespace:"ReStock.EventCapture",mouseMove:!1,zoom:!1,zoomMultiplier:1,pan:!1,panSpeedMultiplier:1,className:"crosshair",defaultFocus:!1},m.contextTypes={width:l["default"].PropTypes.number.isRequired,height:l["default"].PropTypes.number.isRequired,chartData:l["default"].PropTypes.array,onMouseMove:l["default"].PropTypes.func,onMouseEnter:l["default"].PropTypes.func,onMouseLeave:l["default"].PropTypes.func,onZoom:l["default"].PropTypes.func,onPanStart:l["default"].PropTypes.func,onPan:l["default"].PropTypes.func,onPanEnd:l["default"].PropTypes.func,panInProgress:l["default"].PropTypes.bool,focus:l["default"].PropTypes.bool.isRequired,onFocus:l["default"].PropTypes.func},e.exports=m},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=r(12),d=o(f),h=r(39),y=o(h),v=function(e){function t(e,r){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.getPointer=this.getPointer.bind(this)}return a(t,e),i(t,[{key:"getPointer",value:function(){var e=this,t=this.context,r=t.currentCharts,o=t.chartData,n=t.currentItems,a=o.filter(function(e){return r.indexOf(e.id)>-1}).map(function(t){var r=t.config.compareSeries.length>0?function(e){return(Math.round(1e4*e)/100).toFixed(2)+"%"}:t.config.mouseCoordinates.format,o=e.context.mouseXY[1]-t.config.origin[1],n=t.plot.scales.yScale.invert(o);return{id:t.id,at:t.config.mouseCoordinates.at,yValue:n,yDisplayFormat:r}}).filter(function(e){return void 0!==e.at}).filter(function(e){return void 0!==e.yDisplayFormat}).map(function(e){return e.yDisplayValue=e.yDisplayFormat(e.yValue),e}),i=o.filter(function(t){return t.id===e.context.mainChart})[0],s=n.filter(function(t){return t.id===e.context.mainChart})[0];if(void 0===s)return null;s=s.data;var u=i.config.accessors.xAccessor(s),l=void 0===this.context.dataTransformOptions?u:this.context.dataTransformOptions.dateAccessor(s);if(void 0===u)return null;var p=this.props.snapX?Math.round(i.plot.scales.xScale(u)):this.context.mouseXY[0],f=this.context.mouseXY[1];switch(this.props.type){case"crosshair":return c["default"].createElement(y["default"],{height:this.context.height,width:this.context.width,mouseXY:[p,f],xDisplayValue:this.props.xDisplayFormat(l),edges:a});case"vertical":return c["default"].createElement(VerticalMousePointer,null)}}},{key:"render",value:function(){var e=this.getPointer();return c["default"].createElement("g",{className:this.context.show?"show":"hide"},e)}}]),t}(d["default"]);v.contextTypes={width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired,mainChart:c["default"].PropTypes.number.isRequired,show:c["default"].PropTypes.bool,mouseXY:c["default"].PropTypes.array,dataTransformOptions:c["default"].PropTypes.object,chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired,currentCharts:c["default"].PropTypes.array.isRequired},v.propTypes={xDisplayFormat:c["default"].PropTypes.func.isRequired,yDisplayFormat:c["default"].PropTypes.func.isRequired,type:c["default"].PropTypes.oneOf(["crosshair","vertical"]).isRequired},v.defaultProps={namespace:"ReStock.MouseCoordinates",show:!1,snapX:!0,xDisplayFormat:p["default"].displayDateFormat,yDisplayFormat:p["default"].displayNumberFormat},e.exports=v},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(40),p=o(l),f=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return e.mouseXY!==this.props.mouseXY}},{key:"render",value:function(){var e=this,t=0,r=this.props.width,o=this.props.edges.map(function(o,n){return"left"===o.at&&(t=-e.props.yAxisPad),"right"===o.at&&(r=e.props.width+e.props.yAxisPad),c["default"].createElement(p["default"],{key:n,type:"horizontal",className:"horizontal",show:!0,x1:0,y1:e.props.mouseXY[1],x2:0,y2:e.props.mouseXY[1],coordinate:o.yDisplayValue,edgeAt:"left"===o.at?t:r,orient:o.at,hideLine:!0})}),n=null;return this.props.edges.length>0&&(n=c["default"].createElement("line",{className:"cross-hair",x1:t,y1:this.props.mouseXY[1],x2:r,y2:this.props.mouseXY[1]})),c["default"].createElement("g",{className:"crosshair "},n,o,c["default"].createElement(p["default"],{type:"vertical",className:"horizontal",show:!0,x1:this.props.mouseXY[0],y1:0,x2:this.props.mouseXY[0],y2:this.props.height,coordinate:this.props.xDisplayValue,edgeAt:this.props.height,orient:"bottom"}))}}]),t}(c["default"].Component);f.propTypes={yAxisPad:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired,width:c["default"].PropTypes.number.isRequired,mouseXY:c["default"].PropTypes.array.isRequired,xDisplayValue:c["default"].PropTypes.string.isRequired,edges:c["default"].PropTypes.array.isRequired},f.defaultProps={namespace:"ReStock.CrossHair",yAxisPad:5},e.exports=f},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){if(!this.props.show)return null;var e,t,r,o,n=this.props.coordinate,a=this.props.rectWidth?this.props.rectWidth:"horizontal"===this.props.type?60:100,i=20;"horizontal"===this.props.type?(e="right"===this.props.orient?this.props.edgeAt+1:this.props.edgeAt-a-1,t=this.props.y1-i/2,r="right"===this.props.orient?this.props.edgeAt+a/2:this.props.edgeAt-a/2,o=this.props.y1):(e=this.props.x1-a/2,t="bottom"===this.props.orient?this.props.edgeAt:this.props.edgeAt-i,r=this.props.x1,o="bottom"===this.props.orient?this.props.edgeAt+i/2:this.props.edgeAt-i/2);var s=null,u=null;void 0!==n&&(s=c["default"].createElement("rect",{key:1,className:"textbg",x:e,y:t,height:i,width:a,fill:this.props.fill}),u=c["default"].createElement("text",{key:2,x:r,y:o,style:{textAnchor:"middle"},dy:".32em"},n));var l=this.props.hideLine?null:c["default"].createElement("line",{className:"cross-hair",x1:this.props.x1,y1:this.props.y1,x2:this.props.x2,y2:this.props.y2});return c["default"].createElement("g",{className:(this.props.show?"show ":"hide ")+this.props.className},l,s,u)}}]),t}(c["default"].Component);l.propTypes={type:c["default"].PropTypes.oneOf(["vertical","horizontal"]).isRequired,coordinate:c["default"].PropTypes.any.isRequired,x1:c["default"].PropTypes.number.isRequired,y1:c["default"].PropTypes.number.isRequired,x2:c["default"].PropTypes.number.isRequired,y2:c["default"].PropTypes.number.isRequired,orient:c["default"].PropTypes.oneOf(["bottom","top","left","right"]),rectWidth:c["default"].PropTypes.number,hideLine:c["default"].PropTypes.bool},l.defaultProps={namespace:"ReStock.EdgeCoordinate",orient:"left",hideLine:!1},e.exports=l},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return e.mouseXY!==this.props.mouseXY}},{key:"render",value:function(){return c["default"].createElement("g",{className:"crosshair "},c["default"].createElement(EdgeCoordinate,{type:"vertical",className:"horizontal",show:!0,x1:this.props.mouseXY[0],y1:0,x2:this.props.mouseXY[0],y2:this.props.height,coordinate:this.props.xDisplayValue,edgeAt:this.props.height,orient:"bottom"}))}}]),t}(c["default"].Component);l.propTypes={height:c["default"].PropTypes.number.isRequired,mouseXY:c["default"].PropTypes.array.isRequired,xDisplayValue:c["default"].PropTypes.string.isRequired},l.defaultProps={namespace:"ReStock.VerticalMousePointer"},l.yAccessor=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},e.exports=l},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.context.chartData.filter(function(t){return t.id===e.props.forChart})[0],r=this.context.currentItems.filter(function(t){return t.id===e.props.forChart})[0],o=r?r.data:void 0,n="black";if(!this.context.show||void 0===o)return null;var a=this.props.yAccessor||t.config.accessors.yAccessor;if(void 0!==this.props.forOverlay){var i=t.config.overlays.filter(function(t){return t.id===e.props.forOverlay});if(1!==i.length)throw console.warn("Unique overlay with id={%s} not found",this.props.forOverlay),new Error("Unique overlay not found");n=i[0].stroke,a=i[0].yAccessor}else if(void 0!==this.props.forCompareSeries){var s=t.config.compareSeries.filter(function(t){return t.id===e.props.forCompareSeries});if(1!==s.length)throw console.warn("Unique compareSeries with id={%s} not found",this.props.forCompareSeries),new Error("Unique compareSeries not found");n=s[0].stroke,a=s[0].percentYAccessor}var u=t.config.accessors.xAccessor(o),l=a(o);if(void 0===l)return null;var p=Math.round(t.plot.scales.xScale(u))+t.config.origin[0],f=Math.round(t.plot.scales.yScale(l))+t.config.origin[1];return c["default"].createElement("circle",{className:this.props.className,cx:p,cy:f,r:this.props.r,fill:n})}}]),t}(c["default"].Component);l.propTypes={forChart:c["default"].PropTypes.number.isRequired,forOverlay:c["default"].PropTypes.number,forCompareSeries:c["default"].PropTypes.number,yAccessor:c["default"].PropTypes.func,r:c["default"].PropTypes.number.isRequired,className:c["default"].PropTypes.string},l.defaultProps={namespace:"ReStock.CurrentCoordinate",r:3},l.contextTypes={show:c["default"].PropTypes.bool.isRequired,currentItems:c["default"].PropTypes.array.isRequired,chartData:c["default"].PropTypes.array.isRequired},e.exports=l},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=r(12),d=o(f),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=c["default"].Children.map(this.props.children,function(t){var r=p["default"].isReactVersion13()?c["default"].withContext(e.context,function(){return c["default"].createElement(t.type,p["default"].mergeObject({key:t.key,ref:t.ref},t.props))}):c["default"].cloneElement(t);return r});return c["default"].createElement("g",null,t)}}]),t}(d["default"]);h.contextTypes={chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired},e.exports=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(4),p=o(l),f=r(7),d=o(f),h=r(40),y=o(h),v=r(3),m=o(v),g=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e,t,r=this,o=m["default"].getChartDataForChart(this.props,this.context),n=m["default"].getCurrentItemForChart(this.props,this.context),a=null,i=o.config.compareSeries.length>0?p["default"].format(".0%"):this.props.displayFormat;if(void 0!==this.props.forOverlay&&o.config.overlays.length>0&&o.plot.overlayValues.length>0){var s=o.config.overlays.filter(function(e){return e.id===r.props.forOverlay}),u=o.plot.overlayValues.filter(function(e){return e.id===r.props.forOverlay});if(e="first"===this.props.itemType?u[0].first:"last"===this.props.itemType?u[0].last:n,t=s[0].yAccessor,void 0!==e){var l=t(e),f=o.config.accessors.xAccessor(e),d=Math.round(o.plot.scales.xScale(f)),h=Math.round(o.plot.scales.yScale(l)),v="left"===this.props.edgeAt?0-this.props.yAxisPad:this.context.width+this.props.yAxisPad;a=c["default"].createElement(y["default"],{type:this.props.type,className:"edge-coordinate",fill:s[0].stroke,show:!0,x1:d+o.config.origin[0],y1:h+o.config.origin[1],x2:v+o.config.origin[0],y2:h+o.config.origin[1],coordinate:i(l),edgeAt:v,orient:this.props.orient})}}else if(void 0===this.props.forOverlay&&(e="first"===this.props.itemType?o.firstItem:"last"===this.props.itemType?o.lastItem:n,t=o.config.accessors.yAccessor,void 0!==e&&null!==t)){var l=t(e),f=o.accessors.xAccessor(e),d=Math.round(o.plot.scales.xScale(f)),h=Math.round(o.plot.scales.yScale(l)),v="left"===this.props.edgeAt?0-this.props.yAxisPad:this.context.width+this.props.yAxisPad;a=c["default"].createElement(y["default"],{type:this.props.type,className:"edge-coordinate",show:!0,x1:d+o.config.origin[0],y1:h+o.config.origin[1],x2:v+o.config.origin[0],y2:h+o.config.origin[1],coordinate:i(l),edgeAt:v,orient:this.props.orient})}return a}}]),t}(c["default"].Component);g.contextTypes={width:c["default"].PropTypes.number.isRequired,chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired},g.propTypes={type:c["default"].PropTypes.oneOf(["horizontal"]).isRequired,className:c["default"].PropTypes.string,itemType:c["default"].PropTypes.oneOf(["first","last","current"]).isRequired,orient:c["default"].PropTypes.oneOf(["left","right"]),edgeAt:c["default"].PropTypes.oneOf(["left","right"]),forChart:c["default"].PropTypes.number.isRequired,forOverlay:c["default"].PropTypes.number,displayFormat:c["default"].PropTypes.func.isRequired},g.defaultProps={type:"horizontal",orient:"left",edgeAt:"left",displayFormat:d["default"].displayNumberFormat,yAxisPad:5,namespace:"ReStock.EdgeIndicator"},e.exports=g},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=r(2),a=o(n),i={getJQuery:function(){return window.$},handleWindowResize:function(){var e=this.getJQuery(),t=e(a["default"].findDOMNode(this)).parent().width();console.log("width = ",t),this.setState({width:t})},componentWillUnMount:function(){window.removeEventListener("resize",this.handleWindowResize)},componentDidMount:function(){window.addEventListener("resize",this.handleWindowResize);var e=this.getJQuery(),t=e(a["default"].findDOMNode(this)).parent().width();this.setState({width:t})}};e.exports=i},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){function r(){}var o="chart_"+t.id,n=u["default"].mergeRecursive(e,c);return r.options=function(){return n},r.calculate=function(e){var t="ema"+n.fast,r="ema"+n.slow,a=n.pluck||c.pluck,s=i["default"].calculateEMA(e,n.fast,t,a,o);return s=i["default"].calculateEMA(s,n.slow,r,a,o),s.forEach(function(e){e[o]&&e[o][r]&&e[o][t]&&(e[o].MACDLine=e[o][t]-e[o][r])}),i["default"].calculateEMA(s.slice(n.slow),n.signal,"signalLine",o+".MACDLine",o),s.forEach(function(e){e[o]&&e[o].MACDLine&&e[o].signalLine&&(e[o].histogram=e[o].MACDLine-e[o].signalLine)}),s},r.yAccessor=function(){return function(e){return e&&e[o]?{MACDLine:e[o].MACDLine,signalLine:e[o].signalLine,histogram:e[o].histogram}:void 0}},r}var a=r(8),i=o(a),s=r(7),u=o(s),c={fast:12,slow:26,signal:9,pluck:"close",fill:{MACDLine:"none",signalLine:"none",histogram:"steelblue"},stroke:{MACDLine:"red",signalLine:"green",histogram:"steelblue"}};e.exports=n},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=r(3),d=o(f),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=d["default"].getChartDataForChart(this.props,this.context),t=e.config.indicatorOptions,r=d["default"].getCurrentItemForChart(this.props,this.context),o=r["chart_"+this.props.forChart],n=e.config.mouseCoordinates.format,a=o&&o.MACDLine&&n(o.MACDLine)||"n/a",i=o&&o.signalLine&&n(o.signalLine)||"n/a",s=o&&o.histogram&&n(o.histogram)||"n/a",u="function"==typeof this.props.origin?this.props.origin(this.context.width,this.context.height):this.props.origin;return c["default"].createElement("g",{transform:"translate("+u[0]+", "+u[1]+")"},c["default"].createElement("text",{x:0,y:0,className:"legend"},c["default"].createElement("tspan",{className:"tooltip-label"},"MACD ("),c["default"].createElement("tspan",{stroke:t.stroke.MACDLine,strokeWidth:.5},t.slow),c["default"].createElement("tspan",{className:"tooltip-label"},", "),c["default"].createElement("tspan",{stroke:t.stroke.MACDLine,strokeWidth:.5},t.fast),c["default"].createElement("tspan",{className:"tooltip-label"},"): "),c["default"].createElement("tspan",null,a),c["default"].createElement("tspan",{className:"tooltip-label"}," Signal ("),c["default"].createElement("tspan",{stroke:t.stroke.signalLine,strokeWidth:.5},t.signal),c["default"].createElement("tspan",{className:"tooltip-label"},"): "),c["default"].createElement("tspan",null,i),c["default"].createElement("tspan",{className:"tooltip-label"}," Histogram: "),c["default"].createElement("tspan",null,s)))}}]),t}(c["default"].Component);h.contextTypes={chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired,width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired},h.propTypes={forChart:c["default"].PropTypes.number.isRequired,accessor:c["default"].PropTypes.func.isRequired,xDisplayFormat:c["default"].PropTypes.func.isRequired,origin:c["default"].PropTypes.oneOfType([c["default"].PropTypes.array,c["default"].PropTypes.func]).isRequired},h.defaultProps={namespace:"ReStock.MACDTooltip",accessor:function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}},xDisplayFormat:p["default"].displayDateFormat,origin:[0,0]},e.exports=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=r(12),d=o(f),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=c["default"].Children.map(this.props.children,function(t){var r=p["default"].isReactVersion13()?c["default"].withContext(e.context,function(){return c["default"].createElement(t.type,p["default"].mergeObject({key:t.key,ref:t.ref},t.props))}):c["default"].cloneElement(t);return r});return c["default"].createElement("g",{className:"toottip-hover"},t)}}]),t}(d["default"]);h.contextTypes={chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired},h.defaultProps={namespace:"ReStock.TooltipContainer"},e.exports=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=r(3),d=o(f),h=1e9,y=1e6,v=1e3,m=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e,t,r,o,n,a,i,s;e=t=r=o=n=a=i=s="n/a";var u=d["default"].getCurrentItemForChart(this.props,this.context);void 0!==u&&void 0!==u.close&&(s=u.volume/h>1?(u.volume/h).toFixed(2)+"b":u.volume/y>1?(u.volume/y).toFixed(2)+"m":u.volume/v>1?(u.volume/v).toFixed(2)+"k":u.volume,e=this.props.xDisplayFormat(u.date),o=p["default"].displayNumberFormat(u.open),n=p["default"].displayNumberFormat(u.high),a=p["default"].displayNumberFormat(u.low),i=p["default"].displayNumberFormat(u.close));var l="function"==typeof this.props.origin?this.props.origin(this.context.width,this.context.height):this.props.origin;return c["default"].createElement("g",{transform:"translate("+l[0]+", "+l[1]+")"},c["default"].createElement("text",{x:0,y:0,className:"legend"},c["default"].createElement("tspan",{key:"label",x:0,dy:"5",className:"tooltip-label"},"Date: "),c["default"].createElement("tspan",{key:"value"},e),c["default"].createElement("tspan",{key:"label_O",className:"tooltip-label"}," O: "),c["default"].createElement("tspan",{key:"value_O"},o),c["default"].createElement("tspan",{key:"label_H",className:"tooltip-label"}," H: "),c["default"].createElement("tspan",{key:"value_H"},n),c["default"].createElement("tspan",{key:"label_L",className:"tooltip-label"}," L: "),c["default"].createElement("tspan",{key:"value_L"},a),c["default"].createElement("tspan",{key:"label_C",className:"tooltip-label"}," C: "),c["default"].createElement("tspan",{key:"value_C"},i),c["default"].createElement("tspan",{key:"label_Vol",className:"tooltip-label"}," Vol: "),c["default"].createElement("tspan",{key:"value_Vol"},s)))}}]),t}(c["default"].Component);m.contextTypes={chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired,width:c["default"].PropTypes.number.isRequired,height:c["default"].PropTypes.number.isRequired},m.propTypes={forChart:c["default"].PropTypes.number.isRequired,accessor:c["default"].PropTypes.func.isRequired,xDisplayFormat:c["default"].PropTypes.func.isRequired,origin:c["default"].PropTypes.oneOfType([c["default"].PropTypes.array,c["default"].PropTypes.func]).isRequired},m.defaultProps={namespace:"ReStock.OHLCTooltip",accessor:function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}},xDisplayFormat:p["default"].displayDateFormat,origin:[0,0]},e.exports=m},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=r(3),d=o(f),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t="n/a",r=d["default"].getChartDataForChart(this.props,this.context),o=d["default"].getCurrentItemForChart(this.props,this.context),n=r.config.compareSeries.filter(function(t){return t.id===e.props.forCompareSeries})[0];return void 0!==o&&void 0!==n.yAccessor(o)&&(t=n.yAccessor(o)),c["default"].createElement("g",{transform:"translate("+this.props.origin[0]+", "+this.props.origin[1]+")"},c["default"].createElement("text",{x:0,y:0,className:"legend"},c["default"].createElement("tspan",{key:"label",x:0,dy:"5",className:"tooltip-label"},n.displayLabel+": "),c["default"].createElement("tspan",{key:"value",stroke:n.stroke},t)))}}]),t}(c["default"].Component);h.contextTypes={chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired},h.propTypes={forChart:c["default"].PropTypes.number.isRequired,forCompareSeries:c["default"].PropTypes.number.isRequired,xDisplayFormat:c["default"].PropTypes.func.isRequired,origin:c["default"].PropTypes.array.isRequired},h.defaultProps={namespace:"ReStock.CompareTooltip",xDisplayFormat:p["default"].displayDateFormat,origin:[0,0]},e.exports=h},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=function(e,t,r){for(var o=!0;o;){var n=e,a=t,i=r;s=c=u=void 0,o=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=a,r=i,o=!0}},u=r(2),c=o(u),l=r(7),p=o(l),f=r(3),d=o(f),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return c["default"].createElement("g",{transform:e},c["default"].createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:this.props.color}),c["default"].createElement("text",{x:5,y:11,className:"legend"},c["default"].createElement("tspan",{className:"tooltip-label"},this.props.displayName),c["default"].createElement("tspan",{x:"5",dy:"15"},this.props.value)),c["default"].createElement("rect",{x:0,y:0,width:55,height:30,onClick:this.handleClick.bind(this,this.props.overlay)}))}}]),t}(c["default"].Component);h.propTypes={origin:c["default"].PropTypes.array.isRequired,color:c["default"].PropTypes.string.isRequired,displayName:c["default"].PropTypes.string.isRequired,value:c["default"].PropTypes.string.isRequired,onClick:c["default"].PropTypes.func};var y=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=d["default"].getChartDataForChart(this.props,this.context),r=d["default"].getCurrentItemForChart(this.props,this.context);return c["default"].createElement("g",{transform:"translate("+this.props.origin[0]+", "+this.props.origin[1]+")",className:"ma-container"},t.config.overlays.map(function(t,o){var n=t.yAccessor(r),a=n?e.props.displayFormat(n):"n/a";return c["default"].createElement(h,{key:o,origin:[e.props.width*o,0],color:t.stroke,displayName:t.tooltipLabel,value:a,overlay:t,onClick:e.props.onClick})}))}}]),t}(c["default"].Component);y.contextTypes={chartData:c["default"].PropTypes.array.isRequired,currentItems:c["default"].PropTypes.array.isRequired},y.propTypes={forChart:c["default"].PropTypes.number.isRequired,displayFormat:c["default"].PropTypes.func.isRequired,origin:c["default"].PropTypes.array.isRequired,onClick:c["default"].PropTypes.func},y.defaultProps={namespace:"ReStock.MovingAverageTooltip",displayFormat:p["default"].displayNumberFormat,origin:[0,10],width:65},e.exports=y}])});
//# sourceMappingURL=react-stockcharts.min.js.map